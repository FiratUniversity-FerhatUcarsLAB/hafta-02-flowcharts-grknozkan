digraph DersKayit {
    rankdir=TB;
    node [shape=box];

    Basla [label="BAŞLA", shape=oval];
    Giris [label="Kullanıcı adı ve şifre ile giriş"];
    GirisKontrol [label="Giriş doğru mu?", shape=diamond];
    BasariliGiris [label="Giriş başarılı"];
    DersListesi [label="Ders listesi göster"];
    SecimDersler [label="Seçilen dersleri kullanıcı seçer"];
    
    KontrolDonguBasla [label="Her seçilen ders için"];
    KontenjanKontrol [label="Kontenjan dolu mu?", shape=diamond];
    OnKosulKontrol [label="Ön koşul tamamlandı mı?", shape=diamond];
    ZamanCakismaKontrol [label="Zaman çakışması var mı?", shape=diamond];
    KrediKontrol [label="Kredi limiti aşılıyor mu?", shape=diamond];
    DanismanKontrol [label="Danışman onayı var mı?", shape=diamond];
    DersEklendi [label="Ders başarıyla eklendi"];
    DersReddedildi [label="Ders reddedildi"];
    
    KayitOnay [label="Ders kaydı onaylandı"];
    BosListe [label="Hiç ders seçilmedi veya reddedildi"];
    HataliGiris [label="Giriş hatalı", shape=parallelogram];
    Bitir [label="BİTİR", shape=oval];

    // Akış
    Basla -> Giris -> GirisKontrol;
    GirisKontrol -> BasariliGiris [label="EVET"];
    GirisKontrol -> HataliGiris [label="HAYIR"];
    BasariliGiris -> DersListesi -> SecimDersler -> KontrolDonguBasla;

    KontrolDonguBasla -> KontenjanKontrol;
    KontenjanKontrol -> DersReddedildi [label="EVET"];
    KontenjanKontrol -> OnKosulKontrol [label="HAYIR"];

    OnKosulKontrol -> DersReddedildi [label="HAYIR"];
    OnKosulKontrol -> ZamanCakismaKontrol [label="EVET"];

    ZamanCakismaKontrol -> DersReddedildi [label="EVET"];
    ZamanCakismaKontrol -> KrediKontrol [label="HAYIR"];

    KrediKontrol -> DersReddedildi [label="EVET"];
    KrediKontrol -> DanismanKontrol [label="HAYIR"];

    DanismanKontrol -> DersReddedildi [label="HAYIR"];
    DanismanKontrol -> DersEklendi [label="EVET"];

    DersEklendi -> KontrolDonguBasla;
    DersReddedildi -> KontrolDonguBasla;

    KontrolDonguBasla -> KayitOnay [label="Tüm dersler kontrol edildi"];
    KontrolDonguBasla -> BosListe [label="Hiç ders yok"];

    KayitOnay -> Bitir;
    BosListe -> Bitir;
    HataliGiris -> Bitir;
}
